<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.1/vue.js"></script>
    <!-- 1. å¯¼å…¥css -->
    <link href="https://cdn.bootcss.com/element-ui/2.8.2/theme-chalk/index.css" rel="stylesheet">
    <!-- 2. å¼•å…¥vueå’Œvue-router-->
    <script src="https://cdn.bootcss.com/vue/2.6.10/vue.js"></script>
    <!-- æœªä½¿ç”¨vueè·¯ç”±åŠŸèƒ½å¯ä¸å¯¼å…¥ -->
    <script src="https://cdn.bootcss.com/vue-router/3.0.6/vue-router.js"></script>
    <!-- 3. å¼•å…¥ElementUIç»„ä»¶ -->
    <script src="https://cdn.bootcss.com/element-ui/2.8.2/index.js"></script>

    <style>
        #app {
            width: 800px;
            margin: 0 auto;
        }

        .m-5 {
            margin: 15px 0;
        }

        .canvas_w {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 400px;
        }
    </style>

</head>


<body>
    <div id="app">
        <h1>ğŸ—ºå›¾ç‰‡ç”Ÿæˆå·¥å…·</h1>

        <div class="m-5">
            <el-form :label-position="labelPosition" label-width="80px" :model="formLabelAlign">
                <el-form-item label="å›¾ç‰‡æ–‡å­—">
                    <el-input v-model="formLabelAlign.name"></el-input>
                </el-form-item>
                <el-form-item label="æ–‡å­—é¢œè‰²">
                    <el-color-picker v-model="color" show-alpha></el-color-picker>
                </el-form-item>
                <el-form-item label="èƒŒæ™¯é¢œè‰²">
                    <el-color-picker v-model="bgColor" show-alpha></el-color-picker>
                </el-form-item>
                <el-form-item label="å›¾ç‰‡é«˜åº¦">
                    <el-slider v-model="height" :max="max" show-input>
                    </el-slider>
                </el-form-item>
                <el-form-item label="å›¾ç‰‡å®½åº¦">
                    <el-slider v-model="width" :max="max" show-input>
                    </el-slider>
                </el-form-item>
                <el-button @click="create" plain>ç”Ÿæˆå›¾ç‰‡</el-button>
                <!-- <el-button @click="create" plain>å…¨é€‰è·¯å¾„</el-button> -->

            </el-form>
        </div>
        <div class="m-5 canvas_w">
            <canvas id="canvas">

            </canvas>
        </div>
        <el-input ref="input" type="textarea" v-model="textarea" rows="5" show-word-limit>
        </el-input>
        <h2>ä½¿ç”¨è¯´æ˜ï¼š</h2>
        <p>ç”Ÿæˆå›¾ç‰‡åï¼Œå¤åˆ¶è¾“å…¥æ¡†ä¸­çš„å­—ç¬¦ï¼Œæ·»åŠ åˆ° img æ ‡ç­¾çš„ src å±æ€§ä¸­ï¼Œå°±å¯ä»¥ç½‘é¡µä¸­æ˜¾ç¤ºå›¾ç‰‡ã€‚</p>
    </div>
</body>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            max: 400,
            textarea: "",
            labelPosition: 'left',
            formLabelAlign: {
                name: 'H',
            },
            color: 'rgba(255, 255, 255, 0.8)',
            bgColor: 'rgba(19, 206, 102, 0.8)',
            height: 40,
            width: 40
        },
        mounted() {
            this.create()
        },
        methods: {
            create() {
                let path = this.createImgPath(this.formLabelAlign.name, this.color, this.bgColor, this.width, this.height)
                this.textarea = path;
            },
            createImgPath(str, color, bgColor, w, h) {
                let canvas = document.getElementById('canvas')
                canvas.setAttribute("width", w)
                canvas.setAttribute("height", h)
                let ctx = canvas.getContext('2d')
                ctx.fillStyle = bgColor
                ctx.fillRect(0, 0, w, h)
                ctx.font = "20px serif"
                ctx.fillStyle = color
                ctx.textAlign = 'center'
                ctx.fillText(str, w / 2, h / 2 + 5)
                return canvas.toDataURL()
            }
        }
    });
</script>

</html>